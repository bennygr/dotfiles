#german
export LC_ALL=de_DE.UTF-8
export LANG=de_DE.UTF-8
export LANGUAGE=de_DE.UTF-8

#going home
cd ~

# MY PATH - everything under ~/usr/bin/
for d in ~/usr/bin/*/; do
	PATH+=":$d"
done
PATH=$PATH:~/usr/bin
export PATH

#Set to 256 term to allow tmux to display vim colors nicely
export TERM=screen-256color-bce

# I love VIM
EDITOR=vim
export EDITOR

#using gpg-agent for SSH authentication
gpg-connect-agent 2>/dev/null /bye  # make sure gpg-agent is running
export SSH_AUTH_SOCK=$HOME/.gnupg/S.gpg-agent.ssh

#News-Server
export NNTPSERVER="news.albasani.net"

# aliase
alias ll='ls -la'
alias cur='cd ~/Workspace'
alias wetter='curl http://wttr.in/siegen'
alias Vimrc=' vim ~/.vimrc '


#parse the state of the git branch
function parse_git_branch() {
  local DIRTY STATUS
  STATUS=$(git status --porcelain 2>/dev/null)
  [ $? -eq 128 ] && return
  [ -z "$(echo "$STATUS" | grep -e '^M')"    ] || DIRTY="â‰› "
  [ -z "$(echo "$STATUS" | grep -e '^ M')"    ] || DIRTY="âš« "
  [ -z "$(echo "$STATUS" | grep -e '^[D]')" ] || DIRTY="${DIRTY}ðŸ—‘ "
  [ -z "$(echo "$STATUS" | grep -e '^[A]')" ] || DIRTY="${DIRTY}+ "
  [ -z "$(echo "$STATUS" | grep -e '^[R]')" ] || DIRTY="${DIRTY}ðŸ † "
  [ -z "$(git stash list)" ]                    || DIRTY="${DIRTY}â˜° "
  echo "($DIRTYâŽ‡: $(git branch 2>/dev/null | sed -e '/^[^*]/d' -e 's/* //'))"
}

#parses if user is root
function parse_if_root() {
  if [ $EUID -eq 0 ]
  then
    echo "âš¡ "
  fi
}

# Right part of the bash promp
function prompt_right(){
    printf "%*s" $COLUMNS "$(parse_git_branch)"
}

#prompt
PS1='\[\033[1;35m\]$(tput sc;  prompt_right; tput rc)\]\[\033[0;34m\]\u \e[31m$(parse_if_root)\[\033[0;37m\]at  \[\033[0;34m\]\H \[\033[0;37m\]in \[\033[0;34m\]\w\n\[\033[1;35m\]â¤·\[\033[0m\] '

#do not send XON/XOFF (CTRL+S/CTRL+Q) to pause/resume terminal; 
#CTRL+S can now be used for bash history search
stty -ixon
